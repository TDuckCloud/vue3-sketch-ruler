var _=Object.defineProperty;var Q=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var M=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t)=>{for(var n in t||(t={}))x.call(t,n)&&M(e,n,t[n]);if(Q)for(var n of Q(t))ee.call(t,n)&&M(e,n,t[n]);return e};import{d as B,r as C,o as $,c as g,w as D,v as X,a as R,b as h,t as V,n as k,e as y,f as P,g as z,h as L,F as I,i as te,j as q,k as U,l as ne,m as ae,p as oe}from"./vendor.30643788.js";const re=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};re();const le={scale:Number,thick:Number,palette:Object,index:Number,start:Number,vertical:Boolean,value:Number,isShowReferLine:Boolean};var E=(e,t)=>{const n=e.__vccOpts||e;for(const[u,o]of t)n[u]=o;return n};const se=B({name:"LineRuler",props:le,emits:["onMouseDown","onRelease","onRemove"],setup(e,{emit:t}){const n=C(0),u=C(!0);$(()=>{n.value=e.value});const o=l=>{u.value=l>=0},s=g(()=>{const l=(n.value-e.start)*e.scale;o(l);const d=l+"px";return e.vertical?{top:d}:{left:d}}),r=g(()=>{var f;const l=`1px solid ${(f=e.palette)==null?void 0:f.lineColor}`,d=e.vertical?{borderTop:l}:{borderLeft:l},v=e.isShowReferLine?e.vertical?"ns-resize":"ew-resize":"none";return W({cursor:v},d)}),i=g(()=>e.vertical?{left:e.thick+"px"}:{top:e.thick+"px"});return{startValue:n,showLine:u,offset:s,borderCursor:r,actionStyle:i,handleDown:l=>{const d=e.vertical?l.clientY:l.clientX,v=n.value;t("onMouseDown");const f=S=>{const p=e.vertical?S.clientY:S.clientX,O=Math.round(v+(p-d)/e.scale);n.value=O},b=()=>{t("onRelease",n.value,e.index),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",b)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",b)},handleRemove:()=>{t("onRemove",e.index)}}}}),ie={class:"value"};function ue(e,t,n,u,o,s){return D((y(),R("div",{class:"line",style:k([e.offset,e.borderCursor]),onMousedown:t[1]||(t[1]=(...r)=>e.handleDown&&e.handleDown(...r))},[h("div",{class:"action",style:k(e.actionStyle)},[h("span",{class:"del",onClick:t[0]||(t[0]=(...r)=>e.handleRemove&&e.handleRemove(...r))},"\xD7"),h("span",ie,V(e.startValue),1)],4)],36)),[[X,e.showLine]])}var ce=E(se,[["render",ue],["__scopeId","data-v-57e51382"]]);const de=e=>e<=.25?40:e<=.5?20:e<=1?10:e<=2?5:e<=4?2:1,H=.83,he=(e,t,n,u,o,s)=>{const{scale:r,width:i,height:c,ratio:a,palette:l}=o,{bgColor:d,fontColor:v,shadowColor:f,longfgColor:b,shortfgColor:S}=l;if(e.scale(a,a),e.clearRect(0,0,i,c),e.fillStyle=d,e.fillRect(0,0,i,c),u){const w=(n-t)*r,A=u*r;e.fillStyle=f,s?e.fillRect(w,0,A,c*3/8):e.fillRect(0,w,i*3/8,A)}const p=de(r),O=p*r,N=p*10,F=N*r,K=Math.floor(t/p)*p,Y=Math.floor(t/N)*N,j=(K-t)/p*O,J=(Y-t)/N*F,T=t+Math.ceil((s?i:c)/r);e.beginPath(),e.fillStyle=v,e.strokeStyle=b;for(let w=Y,A=0;w<T;w+=N,A++){const m=J+A*F+.5;s?e.moveTo(m,0):e.moveTo(0,m),e.save(),s?e.translate(m,c*.4):e.translate(i*.4,m),s||e.rotate(-Math.PI/2),e.scale(H/a,H/a),e.fillText(w.toString(),4*a,7*a),e.restore(),s?e.lineTo(m,c*9/16):e.lineTo(i*9/16,m)}e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle=S;for(let w=K,A=0;w<T;w+=p,A++){const m=j+A*O+.5;s?e.moveTo(m,0):e.moveTo(0,m),w%N!=0&&(s?e.lineTo(m,c*1/4):e.lineTo(i*1/4,m))}e.stroke(),e.closePath(),e.setTransform(1,0,0,1,0,0)},ve=B({name:"CanvasRuler",props:{showIndicator:Boolean,valueNum:Number,scale:Number,ratio:Number,palette:Object,vertical:Boolean,start:Number,width:Number,height:Number,selectStart:Number,selectLength:Number},emits:["onAddLine","update:showIndicator","update:valueNum"],setup(e,{emit:t}){const n=P({canvasContext:null});let u=1;const o=C(null);$(()=>{u=e.ratio||window.devicePixelRatio||1,s(),r(u),i(u)});const s=()=>{n.canvasContext=o.value&&o.value.getContext("2d")},r=a=>{if(o.value){o.value.width=e.width*a,o.value.height=e.height*a;const l=n.canvasContext;l&&(l.font=`${12*a}px -apple-system,
                "Helvetica Neue", ".SFNSText-Regular",
                "SF UI Text", Arial, "PingFang SC", "Hiragino Sans GB",
                "Microsoft YaHei", "WenQuanYi Zen Hei", sans-serif`,l.lineWidth=1,l.textBaseline="middle")}},i=a=>{const l={scale:e.scale,width:e.width,height:e.height,palette:e.palette,ratio:a};n.canvasContext&&he(n.canvasContext,e.start,e.selectStart,e.selectLength,l,!e.vertical)};return z(()=>e.start,()=>i(u)),z([()=>e.width,()=>e.height],()=>{r(u),i(u)}),{handle:(a,l)=>{const d=(b,S,p)=>Math.round(S+b/p),v=e.vertical?a.offsetY:a.offsetX,f=d(v,e.start,e.scale);switch(l){case"click":t("onAddLine",f);break;case"enter":t("update:valueNum",f),t("update:showIndicator",!0);break;default:t("update:valueNum",f);break}},canvas:o}}});function fe(e,t,n,u,o,s){return y(),R("canvas",{ref:"canvas",class:"ruler",onClick:t[0]||(t[0]=r=>e.handle(r,"click")),onMouseenter:t[1]||(t[1]=r=>e.handle(r,"enter")),onMousemove:t[2]||(t[2]=r=>e.handle(r,"move")),onMouseleave:t[3]||(t[3]=r=>e.$emit("update:showIndicator",!1))},null,544)}var me=E(ve,[["render",fe]]);const ge={scale:Number,ratio:Number,thick:Number,palette:Object,vertical:{type:Boolean,default:!0},width:{type:Number,default:200},height:{type:Number,default:200},start:{type:Number,default:0},lines:{type:Array,default:()=>[]},selectStart:{type:Number},selectLength:{type:Number},isShowReferLine:{type:Boolean}};const pe=B({name:"RulerWrapper",components:{CanvasRuler:me,RulerLine:ce},props:ge,setup(e){const t=C(!1),n=C(0),u=g(()=>e.vertical?"v-container":"h-container"),o=g(()=>{const a={width:`calc(100% - ${e.thick}px)`,height:`${e.thick+1}px`,left:`${e.thick}px`},l={width:`${e.thick&&e.thick+1}px`,height:`calc(100% - ${e.thick}px)`,top:`${e.thick}px`};return e.vertical?l:a}),s=g(()=>{var v;const a=(n.value-e.start)*e.scale;let l="top",d="borderLeft";return l=e.vertical?"top":"left",d=e.vertical?"borderBottom":"borderLeft",{[l]:a+"px",[d]:`1px solid ${(v=e.palette)==null?void 0:v.lineColor}`}}),r=a=>{e.lines.push(a)},i=(a,l)=>{const d=a-e.start,v=(e.vertical?e.height:e.width)/e.scale;d<0||d>v?c(l):e.lines[l]=a},c=a=>{e.lines.splice(a,1)};return{showIndicator:t,valueNum:n,rwClassName:u,rwStyle:o,indicatorStyle:s,handleNewLine:r,handleLineRelease:i,handleLineRemove:c}}}),we={class:"lines"},Ae={class:"value"};function Ce(e,t,n,u,o,s){const r=U("CanvasRuler"),i=U("RulerLine");return y(),R("div",{class:q(e.rwClassName),style:k(e.rwStyle)},[L(r,{vertical:e.vertical,scale:e.scale,width:e.width,height:e.height,start:e.start,ratio:e.ratio,"select-start":e.selectStart,"select-length":e.selectLength,palette:e.palette,valueNum:e.valueNum,"onUpdate:valueNum":t[0]||(t[0]=c=>e.valueNum=c),showIndicator:e.showIndicator,"onUpdate:showIndicator":t[1]||(t[1]=c=>e.showIndicator=c),onOnAddLine:e.handleNewLine},null,8,["vertical","scale","width","height","start","ratio","select-start","select-length","palette","valueNum","showIndicator","onOnAddLine"]),D(h("div",we,[(y(!0),R(I,null,te(e.lines,(c,a)=>(y(),ne(i,{key:c+a,index:a,value:c>>0,scale:e.scale,start:e.start,thick:e.thick,palette:e.palette,vertical:e.vertical,"is-show-refer-line":e.isShowReferLine,onOnRemove:e.handleLineRemove,onOnRelease:e.handleLineRelease},null,8,["index","value","scale","start","thick","palette","vertical","is-show-refer-line","onOnRemove","onOnRelease"]))),128))],512),[[X,e.isShowReferLine]]),D(h("div",{class:"indicator",style:k(e.indicatorStyle)},[h("div",Ae,V(e.valueNum),1)],4),[[X,e.showIndicator]])],6)}var ye=E(pe,[["render",Ce],["__scopeId","data-v-121a2df8"]]);const Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAopJREFUOE/FlE9IVEEcx7+/N9ouds1Mu0QUSFZYdIgoUqQoKPBQHsKozpXE7jbTO/U8xLJvn6usBHWQ6hBFXupSkQeVbh0KJEPp0sH+eLGTsKs77xcj78m0ax0E8cHjzZv5zef3/c33xxA24KENYGJzoEEQbNNaN4Zh2OQ4znwYhr9c1/39vwrXVDo0NNS0tLR0GYB5D64BmAMwzMyvlFKz1es10Hw+f4mZ7wHYBeA9gNdENFepVOaEEM3M3OI4Thczn41gt6WUgQ3+C+r7/h0AWQD3mXnYqPA8L9nQ0HCemduIaFpKOWoAhUJhT6VSuQXgOjP3K6W8GLwKzeVyp4jonR0QBEErM48w8zFLyayUsjX+z+VyHhHdZebTSqkxM78CHRgYOKS1/ghgVErZY214RkQ7ADyRUj72ff8qgCtmXUrZGcf5vv8CwEUhxOF0Ov1pBRpla5dSdseBhUJhpznH6tIsZb1KqacW+BGArUaUXX63UuplHJTNZjuEEONSyhozfd/n6mQ1RkXZL2itz7mu+80EDA4ONi8vL/8AcM2UbikyR2BU9cSmmTU70YqKIAj2hWFo2uenlHK/BRg3Y2aeNO5GyU8S0ZbFxcUuz/NKEXAGQKPjOCcymcyX1dIi8DSAiWQyeaavr68cbSgCuBknYubnQoj+TCYzUywWE6VS6S2ADsdx2gxw1X3L7SNENMbMnwE8qK+vf5NKpRaMaeVyeW8ikfiaSqW+R7BuZr5BRMe11p2u607U9Gk8kc/ntzPzQwCmExYATDLzVBiGE0KIowAOADDf3QA+aK2VDaxRajto3K+rq+tl5nYAzQBamHmeiOYBTGmtR6ph/1Rqg9c73pz7dD1qN0TpHyNQRCUDJXrAAAAAAElFTkSuQmCC",be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAAXNSR0IArs4c6QAAAjtJREFUOE/NlD9oFEEUxn9v9ghC0hpRUogIAUmniGAT/5Q2FrETPSNRJILg7RwimI0ox85eQFCEBGIUO1PYpFM0jSConQoBEZGgGPsgl+w+2eM2bC57SopAFqYZ3v7m+977ZoQt+GQLmGxPaBiGgYiMWWvXBHZUGoZhH3BERPYC+4F+4Keq/urt7b1RLpf/ZEBVHa9Wq0HWyg3QKIoGVPU8cA7wgK/pUtXPQJ8xZk+pVBpuNBqXUoUiEvi+P56fzTpo6+SbwHNg1lo7WzTITGEKXFlZeeB53tVCpa3CK8AFa+1cBgvD8LKIXAQOJkkyICJDeYVBEJS6u7s/qeoLa+1o+l9TqXNuBLhmjDlbqVQ+5ICjInIfOBPH8W9jzGCR5YmJiRNxHM+papgqzqDvgSlr7VTernPuO3An3c9bBt74vv+yrdaKyLDv+/1Sq9UGPc97nY9EVuycU2AQOA7cAm4Dr4D5TvVxHB9rKo2iaEFVp621Ln96FEUngaOqGmSxabVqsh3a2h+x1h5qQjNrae/yE4+iaCwDJkky73neTuBZe129Xk+H+BS4l7ZqLVIZ2BhzuFKpvMsDVXXWGPMxFdAedOfcKeCRqj7MYrUhpz09PfXl5eXrectFWXXODQHpOq2qd/95o/JXr6ura3J1dXU6SZIfwKKIHAD2tVYMPBGRx77vN10UXtO85fTkmZmZHUtLSzUR2QXsBhaAL6r6DXhbrVYXi1yss59GqOgub/bN3Z7v6X/tb9Zmp/q/kN8s+lJb8oEAAAAASUVORK5CYII=",Se={scale:{type:Number,default:1},ratio:{type:Number},thick:{type:Number,default:16},palette:Object,startX:{type:Number},startY:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},shadow:{type:Object,default:()=>({x:0,y:0,width:0,height:0})},lines:{type:Object,default:()=>({h:[],v:[]})},cornerActive:{type:Boolean,default:!1},isShowReferLine:{type:Boolean,default:!0}};const Ne=B({name:"SketchRule",components:{RulerWrapper:ye},props:Se,emits:["onCornerClick","handleLine"],setup(e,{emit:t}){let n=C(!0);n.value=e.isShowReferLine;const u=g(()=>{function i(a,l){return Object.keys(a).forEach(d=>{d&&a.hasOwnProperty(d)&&(typeof l.key=="object"?a[d]=i(a[d],l[d]):l.hasOwnProperty(d)&&(a[d]=l[d]))}),a}return i({bgColor:"rgba(225,225,225, 0)",longfgColor:"#BABBBC",shortfgColor:"#C8CDD0",fontColor:"#7D8694",shadowColor:"#E8E8E8",lineColor:"#EB5648",borderColor:"#DADADC",cornerActiveColor:"rgb(235, 86, 72, 0.6)",menu:{bgColor:"#fff",dividerColor:"#DBDBDB",listItem:{textColor:"#415058",hoverTextColor:"#298DF8",disabledTextColor:"rgba(65, 80, 88, 0.4)",bgColor:"#fff",hoverBgColor:"#F2F2F2"}}},e.palette||{})}),o=g(()=>e.cornerActive?" active":""),s=g(()=>({backgroundImage:n.value?`url(${Re})`:`url(${be})`,width:e.thick+"px",height:e.thick+"px",borderRight:`1px solid ${u.value.borderColor}`,borderBottom:`1px solid ${u.value.borderColor}`}));return{isShowReferLine:n,paletteCpu:u,cornerActiveClass:o,cornerStyle:s,onCornerClick:i=>{n.value=!n.value,t("onCornerClick",i)}}}}),ke={id:"mb-ruler",class:"style-ruler mb-ruler"};function Be(e,t,n,u,o,s){const r=U("RulerWrapper");return y(),R("div",ke,[L(r,{vertical:!1,width:e.width,height:e.thick,"is-show-refer-line":e.isShowReferLine,thick:e.thick,ratio:e.ratio,start:e.startX,lines:e.lines.h,"select-start":e.shadow.x,"select-length":e.shadow.width,scale:e.scale,palette:e.paletteCpu},null,8,["width","height","is-show-refer-line","thick","ratio","start","lines","select-start","select-length","scale","palette"]),L(r,{vertical:!0,width:e.thick,height:e.height,"is-show-refer-line":e.isShowReferLine,thick:e.thick,ratio:e.ratio,start:e.startY,lines:e.lines.v,"select-start":e.shadow.y,"select-length":e.shadow.height,scale:e.scale,palette:e.paletteCpu},null,8,["width","height","is-show-refer-line","thick","ratio","start","lines","select-start","select-length","scale","palette"]),h("a",{class:q(["corner",e.cornerActiveClass]),style:k(e.cornerStyle),onClick:t[0]||(t[0]=(...i)=>e.onCornerClick&&e.onCornerClick(...i))},null,6)])}var Le=E(Ne,[["render",Be]]);const G=600,Z=320,Ee=B({components:{SketchRule:Le},setup(){const e=C(null),t=C(null),n=P({scale:2,startX:0,startY:0,lines:{h:[433,588],v:[33,143]},thick:20,isShowRuler:!0,isShowReferLine:!0}),u=g(()=>({x:0,y:0,width:G,height:Z})),o=g(()=>({width:G,height:Z,transform:`scale(${n.scale})`}));$(()=>{e.value.scrollLeft=t.value.getBoundingClientRect().width/2-400});const s=()=>{const i=document.querySelector("#screens").getBoundingClientRect(),c=document.querySelector("#canvas").getBoundingClientRect(),a=(i.left+n.thick-c.left)/n.scale,l=(i.top+n.thick-c.top)/n.scale;n.startX=a,n.startY=l};return{screensRef:e,containerRef:t,state:n,shadow:u,canvasStyle:o,handleWheel:i=>{if(i.ctrlKey||i.metaKey){i.preventDefault();const c=parseFloat(Math.max(.2,n.scale-i.deltaY/500).toFixed(2));n.scale=c}ae(()=>{s()})},handleScroll:s}}}),Oe={class:"top"},Ue={class:"wrapper"},$e={ref:"containerRef",class:"screen-container"};function De(e,t,n,u,o,s){const r=U("SketchRule");return y(),R(I,null,[h("div",Oe,"\u7F29\u653E\u6BD4\u4F8B:"+V(e.state.scale),1),h("div",Ue,[L(r,{thick:e.state.thick,scale:e.state.scale,width:1380,height:780,"start-x":e.state.startX,"start-y":e.state.startY,shadow:e.shadow,"corner-active":!0,lines:e.state.lines},null,8,["thick","scale","start-x","start-y","shadow","lines"]),h("div",{id:"screens",ref:"screensRef",onWheel:t[0]||(t[0]=(...i)=>e.handleWheel&&e.handleWheel(...i)),onScroll:t[1]||(t[1]=(...i)=>e.handleScroll&&e.handleScroll(...i))},[h("div",$e,[h("div",{id:"canvas",style:k(e.canvasStyle)},null,4)],512)],544)])],64)}var Xe=E(Ee,[["render",De]]);const Ve=h("div",null,[h("a",{href:"https://data.avuejs.com/build/1",target:"_blank",class:"redlink"}," \u5B9E\u4F8B\u5730\u5740:https://data.avuejs.com/build/1 "),h("div",null,"\u6309\u4F4FCtril+\u9F20\u6807\u6EDA\u8F6E\u53EF\u4EE5\u7F29\u653E\u9875\u9762")],-1),Ie={setup(e){return(t,n)=>(y(),R(I,null,[Ve,L(Xe)],64))}},Fe=oe(Ie);Fe.mount("#app");
